import{r as i,W as z,j as e}from"./app-Bm0wnkRX.js";function _({invitation:n,flash:o}){const[a,c]=i.useState(!1),[y,d]=i.useState(!1),[j,x]=i.useState(!1),[v,m]=i.useState(!!o.message),b={200:{icon:"fa-check",textClass:"text-emerald-500",bgClass:"bg-emerald-100"},201:{icon:"fa-check",textClass:"text-blue-500",bgClass:"bg-blue-100"},204:{icon:"fa-check",textClass:"text-blue-500",bgClass:"bg-blue-100"},23e3:{icon:"fa-times",textClass:"text-red-500",bgClass:"bg-red-100"},500:{icon:"fa-exclamation-triangle",textClass:"text-yellow-500",bgClass:"bg-yellow-100"},default:{icon:"fa-info",textClass:"text-gray-500",bgClass:"bg-gray-100"}},{icon:N,textClass:w,bgClass:k}=b[o.code]||b.default,{post:C,patch:S,processing:p,delete:D,reset:u,errors:s,data:l,setData:r}=z({id:"",invitation_id:n.invitation.id,meet:"",cover:null,title:"",description:""}),E=t=>{t.preventDefault();const h=a?C:S,$=a?route("story.store"):route("story.update",l.id);h($,{preserveScroll:!0,forceFormData:!0,onSuccess:f=>{m(!0),c(!1),d(!1),u()},onError:f=>{console.log(f)}})},M=t=>{r({id:t.id,invitation_id:t.invitation_id,meet:t.meet,cover:t.cover,title:t.title,description:t.description}),d(!0)},g=()=>{u(),c(!1),d(!1),x(!1)},A=()=>{m(!1)},F=t=>{r({id:t.id}),x(!0)},q=t=>{D(route("story.destroy",t),{onSuccess:()=>{m(!0),x(!1)},onError:h=>{console.log(h)},onFinish:()=>u()})};return e.jsxs("main",{className:"w-full",children:[e.jsx("div",{className:"px-5",children:v&&e.jsxs("div",{className:"flex items-center w-full p-4 mb-4 text-gray-500 bg-white rounded-2xl shadow-sm",role:"alert",children:[e.jsx("div",{className:`inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-xl ${w} ${k}`,children:e.jsx("i",{className:`fa-solid ${N}`})}),e.jsx("div",{className:"ms-3 text-sm font-normal",children:o.message}),e.jsx("button",{onClick:A,type:"button",className:"ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-xl focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8",children:e.jsx("i",{className:"fa-solid fa-xmark"})})]})}),e.jsxs("div",{className:"p-6 bg-gray-50 text-medium shadow-sm text-gray-500 md:rounded-2xl w-full",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Stories"}),e.jsx("button",{onClick:()=>c(!a),type:"button",className:"flex text-white bg-sky-500 hover:bg-sky-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm p-2",children:e.jsx("i",{className:"fa-solid fa-circle-plus"})})]}),e.jsx("hr",{className:"my-3.5"}),n.stories.length>0?e.jsx("section",{className:"space-y-3",children:n.stories.map(t=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{onClick:()=>M(t),className:"cursor-pointer relative transition-all ease-in-out p-5 rounded-2xl text-white bg-gray-100 hover:bg-gray-200 border border-gray-200 space-y-2",children:[e.jsx("img",{src:`/storage/covers/${t.cover}`,alt:t.title,className:"rounded-2xl"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-gray-700",children:t.meet}),e.jsx("h3",{className:"font-bold text-lg text-gray-800",children:t.title})]}),e.jsx("p",{className:"text-sm text-gray-700",children:t.description})]}),e.jsx("button",{disabled:p,onClick:()=>F(t),type:"button",className:"absolute top-[-5px] right-[-5px] rounded-full h-8 w-8 flex items-center justify-center text-white bg-red-500 hover:bg-red-600",children:e.jsx("i",{className:"fa-solid fa-trash-alt text-[11px]"})})]},t.id))}):e.jsx("p",{className:"text-center text-sm",children:"Belum ada data kisah mempelai."})]}),(a||y)&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center w-full h-full bg-black bg-opacity-50",children:e.jsx("div",{className:"relative p-4 w-full max-w-md",children:e.jsxs("div",{className:"relative bg-white rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 md:p-5 border-b rounded-t",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a?"Tambah Kisah Mempelai":"Ubah Kisah Mempelai"}),e.jsx("button",{type:"button",onClick:g,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-xl transition-all ease-in-out text-sm w-8 h-8 ms-auto inline-flex justify-center items-center",children:e.jsx("i",{className:"fa-solid fa-xmark"})})]}),e.jsxs("form",{onSubmit:E,enctype:"multipart/form-data",className:"px-6 py-4",children:[e.jsxs("div",{className:"grid gap-4 mb-4 grid-cols-2",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"title",className:"block mb-2 text-sm font-medium text-gray-900",children:"Judul"}),e.jsx("input",{type:"text",value:l.title,onChange:t=>r("title",t.target.value),name:"title",id:"title",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 px-3",placeholder:"Title of story",required:!0}),s.title&&e.jsx("p",{className:"text-xs text-red-600 mt-2",children:s.title})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"title",className:"block mb-2 text-sm font-medium text-gray-900",children:"Tanggal"}),e.jsx("input",{type:"date",value:l.meet,onChange:t=>r("meet",t.target.value),name:"meet",id:"meet",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 px-3",placeholder:"Date of story",required:!0}),s.meet&&e.jsx("p",{className:"text-xs text-red-600 mt-2",children:s.meet})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{htmlFor:"cover",className:"block mb-2 text-sm font-medium text-gray-900",children:"Cover"}),e.jsx("input",{type:"file",onChange:t=>r("cover",t.target.files[0]),name:"cover",id:"cover",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 px-3",accept:"image/jpeg, image/jpg, image/png",required:!1}),s.cover&&e.jsx("p",{className:"text-xs text-red-600 mt-2",children:s.cover})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{htmlFor:"description",className:"block mb-2 text-sm font-medium text-gray-900",children:"Deskripsi"}),e.jsx("textarea",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 px-3",name:"description",id:"description",onChange:t=>r("description",t.target.value),value:l.description,placeholder:"Description of story",required:!0,children:l.description}),s.description&&e.jsx("p",{className:"text-xs text-red-600 mt-2",children:s.description})]})]}),e.jsxs("button",{disabled:p,type:"submit",className:"text-white inline-flex items-center bg-sky-500 hover:bg-sky-600 font-medium rounded-xl text-sm px-5 py-2.5 text-center space-x-1.5",children:[e.jsx("i",{className:"fa-solid fa-save"}),e.jsx("span",{children:a?"Simpan":"Simpan perubahan"})]})]})]})})}),j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center w-full h-full bg-black bg-opacity-50",children:e.jsx("div",{className:"relative p-4 w-full max-w-md max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow",children:[e.jsx("button",{onClick:g,type:"button",className:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 transition-all ease-in-out hover:text-gray-900 rounded-xl text-sm w-8 h-8 ms-auto inline-flex justify-center items-center",children:e.jsx("i",{className:"fa-solid fa-xmark"})}),e.jsxs("div",{className:"px-5 py-7 text-center",children:[e.jsx("i",{className:"fa-solid fa-circle-exclamation text-red-500 fa-3x"}),e.jsx("h3",{className:"my-5 text-lg font-normal text-gray-500",children:"Are you sure you want to delete this category?"}),e.jsx("button",{onClick:()=>q(l.id),type:"button",className:"text-white bg-red-600 hover:bg-red-800 transition-all ease-in-out font-medium rounded-xl text-sm inline-flex items-center px-5 py-2.5 text-center",children:"Yes, I'm sure"}),e.jsx("button",{onClick:g,type:"button",className:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900  transition-all ease-in-out bg-white rounded-xl border border-gray-200 hover:bg-gray-100 hover:text-sky-700 focus:z-10 focus:ring-4 focus:ring-gray-100",children:"No, cancel"})]})]})})})]})}export{_ as default};
