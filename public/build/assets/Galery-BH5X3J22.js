import{r as l,W as _,j as e}from"./app-CtlnP1Bd.js";function q({invitation:r,flash:i}){const[s,n]=l.useState(!1),[y,o]=l.useState(!1),[j,c]=l.useState(!1),[v,d]=l.useState(!!i.message),g={200:{icon:"fa-check",textClass:"text-emerald-500",bgClass:"bg-emerald-100"},201:{icon:"fa-check",textClass:"text-blue-500",bgClass:"bg-blue-100"},204:{icon:"fa-check",textClass:"text-blue-500",bgClass:"bg-blue-100"},23e3:{icon:"fa-times",textClass:"text-red-500",bgClass:"bg-red-100"},500:{icon:"fa-exclamation-triangle",textClass:"text-yellow-500",bgClass:"bg-yellow-100"},default:{icon:"fa-info",textClass:"text-gray-500",bgClass:"bg-gray-100"}},{icon:N,textClass:w,bgClass:C}=g[i.code]||g.default,{post:k,patch:S,processing:f,delete:D,reset:x,errors:h,data:b,setData:m}=_({id:"",invitation_id:r.invitation.id,cover:null}),E=t=>{t.preventDefault();const a=s?k:S,z=s?route("galery.store"):route("galery.update",b.id);a(z,{preserveScroll:!0,forceFormData:!0,onSuccess:p=>{d(!0),n(!1),o(!1),x()},onError:p=>{console.log(p)}})},F=t=>{m({id:t.id,invitation_id:t.invitation_id,cover:t.cover}),o(!0)},u=()=>{x(),n(!1),o(!1),c(!1)},M=()=>{d(!1)},A=t=>{m({id:t.id}),c(!0)},$=t=>{D(route("galery.destroy",t),{onSuccess:()=>{d(!0),c(!1)},onError:a=>{console.log(a)},onFinish:()=>x()})};return e.jsxs("main",{className:"w-full",children:[e.jsx("div",{className:"px-5",children:v&&e.jsxs("div",{className:"flex items-center w-full p-4 mb-4 text-gray-500 bg-white rounded-2xl shadow-sm",role:"alert",children:[e.jsx("div",{className:`inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-xl ${w} ${C}`,children:e.jsx("i",{className:`fa-solid ${N}`})}),e.jsx("div",{className:"ms-3 text-sm font-normal",children:i.message}),e.jsx("button",{onClick:M,type:"button",className:"ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-xl focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8",children:e.jsx("i",{className:"fa-solid fa-xmark"})})]})}),e.jsxs("div",{className:"p-6 bg-gray-50 text-medium shadow-sm text-gray-500 md:rounded-2xl w-full",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Galeri"}),e.jsx("button",{onClick:()=>n(!s),type:"button",className:"flex text-white bg-sky-500 hover:bg-sky-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm p-2",children:e.jsx("i",{className:"fa-solid fa-circle-plus"})})]}),e.jsx("hr",{className:"my-3.5"}),r.galeries.length>0?e.jsx("section",{className:"space-y-3",children:r.galeries.map((t,a)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{onClick:()=>F(t),className:"cursor-pointer relative transition-all ease-in-out p-5 rounded-2xl text-white bg-gray-100 hover:bg-gray-200 border border-gray-200 space-y-2",children:e.jsx("img",{src:`/storage/covers/${t.cover}`,alt:`Foto ${a}`,className:"rounded-2xl"})}),e.jsx("button",{disabled:f,onClick:()=>A(t),type:"button",className:"absolute top-[-5px] right-[-5px] rounded-full h-8 w-8 flex items-center justify-center text-white bg-red-500 hover:bg-red-600",children:e.jsx("i",{className:"fa-solid fa-trash-alt text-[11px]"})})]},t.id))}):e.jsx("p",{className:"text-center text-sm",children:"Belum ada galeri foto kedua mempelai."})]}),(s||y)&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center w-full h-full bg-black bg-opacity-50",children:e.jsx("div",{className:"relative p-4 w-full max-w-md",children:e.jsxs("div",{className:"relative bg-white rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 md:p-5 border-b rounded-t",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s?"Tambah Foto Mempelai":"Ubah Foto Mempelai"}),e.jsx("button",{type:"button",onClick:u,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-xl transition-all ease-in-out text-sm w-8 h-8 ms-auto inline-flex justify-center items-center",children:e.jsx("i",{className:"fa-solid fa-xmark"})})]}),e.jsxs("form",{onSubmit:E,enctype:"multipart/form-data",className:"px-6 py-4",children:[e.jsx("div",{className:"grid gap-4 mb-4 grid-cols-2",children:e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{htmlFor:"cover",className:"block mb-2 text-sm font-medium text-gray-900",children:"Foto"}),e.jsx("input",{type:"file",onChange:t=>m("cover",t.target.files[0]),name:"cover",id:"cover",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-xl focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 px-3",accept:"image/jpeg, image/jpg, image/png",required:!1}),h.cover&&e.jsx("p",{className:"text-xs text-red-600 mt-2",children:h.cover})]})}),e.jsxs("button",{disabled:f,type:"submit",className:"text-white inline-flex items-center bg-sky-500 hover:bg-sky-600 font-medium rounded-xl text-sm px-5 py-2.5 text-center space-x-1.5",children:[e.jsx("i",{className:"fa-solid fa-save"}),e.jsx("span",{children:s?"Simpan":"Simpan perubahan"})]})]})]})})}),j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center w-full h-full bg-black bg-opacity-50",children:e.jsx("div",{className:"relative p-4 w-full max-w-md max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow",children:[e.jsx("button",{onClick:u,type:"button",className:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 transition-all ease-in-out hover:text-gray-900 rounded-xl text-sm w-8 h-8 ms-auto inline-flex justify-center items-center",children:e.jsx("i",{className:"fa-solid fa-xmark"})}),e.jsxs("div",{className:"px-5 py-7 text-center",children:[e.jsx("i",{className:"fa-solid fa-circle-exclamation text-red-500 fa-3x"}),e.jsx("h3",{className:"my-5 text-lg font-normal text-gray-500",children:"Are you sure you want to delete this category?"}),e.jsx("button",{onClick:()=>$(b.id),type:"button",className:"text-white bg-red-600 hover:bg-red-800 transition-all ease-in-out font-medium rounded-xl text-sm inline-flex items-center px-5 py-2.5 text-center",children:"Yes, I'm sure"}),e.jsx("button",{onClick:u,type:"button",className:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900  transition-all ease-in-out bg-white rounded-xl border border-gray-200 hover:bg-gray-100 hover:text-sky-700 focus:z-10 focus:ring-4 focus:ring-gray-100",children:"No, cancel"})]})]})})})]})}export{q as default};
